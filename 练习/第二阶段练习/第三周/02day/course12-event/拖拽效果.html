<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			div{
				position: absolute;
				width: 200px;
				height: 200px;
				background: red;
			}
		</style>
	</head>
	<body>
		<div id="drag"></div>
		<script type="text/javascript">
			var oDrag = document.getElementById("drag");//
			//考虑拖拽的3个要素  mousedown  mousemove  mouseup
			oDrag.onmousedown = function(e){
				var evt = e || event;
				var wid = evt.offsetX;
				var hei = evt.offsetY;
				
				document.onmousemove = function(e){
					var evt = e || event;
					var _left = evt.clientX-wid;
					var _top = evt.clientY-hei;
					if(_left<=0){
						_left = 0;
					}
					if(_left>=document.documentElement.clientWidth-oDrag.offsetWidth){
						_left=document.documentElement.clientWidth-oDrag.offsetWidth
					}
					if(_top<=0){
						_top = 0;
					}
					if(_top>=document.documentElement.clientHeight-oDrag.offsetHeight){
						_top=document.documentElement.clientHeight-oDrag.offsetHeight
					}
					oDrag.style.left = _left + "px";
					oDrag.style.top = _top + "px";
					
				}
				
			}
			
			document.onmouseup = function(){
				document.onmousemove = null;
			}
			
			
		</script>
	</body>
</html>
